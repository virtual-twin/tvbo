id: 1
label: ReducedWongWangEIB
key: Schirner2023
model:
    name: EIB_ReducedWongWangExcInh
    parameters:
        a_e:
            value: 310.0
            domain:
                lo: 0.0
                hi: 500.0
                step: 1.0
            description: Excitatory input gain.
        b_e:
            value: 125.0
            domain:
                lo: 0.0
                hi: 200.0
                step: 1.0
            description: Excitatory input shift.
            unit: Hz
        d_e:
            value: 0.160
            domain:
                lo: 0.0
                hi: 0.2
                step: 0.001
            description: Excitatory input scaling.
            unit: s
        gamma_e:
            value: 0.000641
            domain:
                lo: 0.0
                hi: 0.001
                step: 1.0e-05
            description: Excitatory kinetic.
        tau_e:
            value: 100.0
            domain:
                lo: 50.0
                hi: 150.0
                step: 1.0
            description: Excitatory NMDA decay.
            unit: ms
        w_p:
            value: 1.2
            domain:
                lo: 0.0
                hi: 2.0
                step: 0.01
            description: Excitatory recurrence weight.
        J_N:
            value: 0.15
            domain:
                lo: 0.001
                hi: 0.5
                step: 0.001
            description: NMDA current.
        W_e:
            value: 1.0
            domain:
                lo: 0.0
                hi: 2.0
                step: 0.01
            description: Excitatory external scaling.
        a_i:
            value: 615.0
            domain:
                lo: 0.0
                hi: 1000.0
                step: 1.0
            description: Inhibitory input gain.
        b_i:
            value: 177.0
            domain:
                lo: 0.0
                hi: 200.0
                step: 1.0
            description: Inhibitory input shift.
            unit: Hz
        d_i:
            value: 0.087
            domain:
                lo: 0.0
                hi: 0.2
                step: 0.001
            description: Inhibitory input scaling.
            unit: s
        gamma_i:
            value: 0.001
            domain:
                lo: 0.0
                hi: 0.002
                step: 1.0e-05
            description: Inhibitory kinetic.
        tau_i:
            value: 10.0
            domain:
                lo: 5.0
                hi: 100.0
                step: 1.0
            description: Inhibitory NMDA decay.
            unit: ms
        J_i:
            value: 1.2
            domain:
                lo: 0.001
                hi: 2.0
                step: 0.001
            description: Local inhibitory current.
        W_i:
            value: 0.7
            domain:
                lo: 0.0
                hi: 1.0
                step: 0.01
            description: Inhibitory external scaling.
        I_o:
            value: 0.382
            domain:
                lo: 0.0
                hi: 1.0
                step: 0.001
            description: Effective external input.
        I_ext:
            value: 0.0
            domain:
                lo: 0.0
                hi: 1.0
                step: 0.001
            description: Effective external stimulus.
        lamda:
            value: 0.1
            domain:
                lo: 0.0
                hi: 1.0
                step: 0.01
            description: Inhibitory global coupling scaling.
        G:
            value: 2.0
            domain:
                lo: 0.0
                hi: 10.0
                step: 0.01
            description: Global coupling scaling.
    derived_variables:
        c_lre:
            name: c_lre
            equation:
                rhs: G * J_N * cpop_0
        c_ffi:
            name: c_ffi
            equation:
                rhs: G * J_N * cpop_1
        x_e_pre:
            name: x_e_pre
            equation:
                rhs: w_p * J_N * S_e - J_i * S_i + W_e * I_o + c_lre + I_ext
            conditional: false
        x_i_pre:
            name: x_i_pre
            equation:
                rhs: J_N * S_e - S_i + W_i * I_o + lamda * c_ffi
            conditional: false
        x_e:
            name: x_e
            equation:
                lhs: x_{ek}
                rhs: a_e * x_e_pre - b_e
            conditional: false
        x_i:
            name: x_i
            equation:
                lhs: x_{ik}
                rhs: a_i * x_i_pre - b_i
            conditional: false
        H_e:
            name: H_e
            equation:
                lhs: H(x_{ek})
                rhs: x_e / (1 - exp(-d_e * x_e))
            conditional: false
        H_i:
            name: H_i
            equation:
                lhs: H(x_{ik})
                rhs: x_i / (1 - exp(-d_i * x_i))
            conditional: false
    state_variables:
        S_e:
            label: Excitatory Firing Rate
            domain:
                lo: 0.0
                hi: 1.0
            boundaries:
                lo: 0.0
                hi: 1.0
            equation:
                lhs: \frac{dS_e}{dt}
                rhs: "- S_e / tau_e + (1 - S_e) * H_e * gamma_e"
            unit: unitless
            variable_of_interest: true
            coupling_variable: true

        S_i:
            label: Inhibitory Firing Rate
            domain:
                lo: 0.0
                hi: 1.0
            boundaries:
                lo: 0.0
                hi: 1.0
            equation:
                lhs: \frac{dS_i}{dt}
                rhs: "- S_i / tau_i + H_i * gamma_i"
            unit: unitless
            variable_of_interest: true

    coupling_terms:
        cpop_0:
            description: "Local excitatory recurrence."
        cpop_1:
            description: "Local inhibitory recurrence."

simulation_experiments:
    - id: 1
      coupling:
          name: EIB_Linear
          parameters:
              a:
                  value: 0.05
                  domain:
                      lo: 0.0
                      hi: 1.0
                      step: 0.01
                  description: Rescales the connection strength while maintaining the ratio between different values.
              b:
                  value: 0.0
                  description: Shifts the base of the connection strength while maintaining the absolute difference between different values.
              w:
                  value: 1
                  domain:
                      lo: 0.0
                      hi: 10.0
                      step: 0.01
                  shape: (N, 2, N)
                  description: Balancing of long-range excitatory and feedforward inhibitory synaptic. Needs to be defined and have the shape (nodes, 2, nodes)
          sparse: true
          pre_expression:
              lhs: pre
              rhs: x_j * w
          post_expression:
              lhs: post
              rhs: a * gx + b

      integration:
          method: Heun
          step_size: 6
          initial_value: 0.1
          duration: 720
          noise:
              additive: true
              correlated: false
              parameters:
                  sigma:
                      value: 0.000005

      monitors:
          Raw:
          Bold:
              period: 720

      connectivity:
          number_of_regions: 379
          parcellation:
              label: Glasser
              atlas:
                  name: hcpmmp1
