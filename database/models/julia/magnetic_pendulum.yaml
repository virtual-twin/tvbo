name: MagneticPendulum
source: https://github.com/JuliaDynamics/PredefinedDynamicalSystems.jl/blob/main/src/continuous_famous_systems.jl
parameters:
  gamma:
    name: gamma
    value: 1.0
    description: Base magnetic strength γ (if γs not explicitly varied).
  d:
    name: d
    value: 0.3
    description: Vertical offset of pendulum from magnet plane.
  alpha:
    name: alpha
    value: 0.2
    description: Linear damping coefficient α.
  omega:
    name: omega
    value: 0.5
    description: Natural frequency ω.
  N:
    name: N
    value: 3
    description: Number of magnets equally spaced on unit circle.
state_variables:
  x:
    name: x
    equation:
      lhs: Derivative(x, t)
      rhs: vx
      latex: false
    initial_value: 0.7803612880645133
  y:
    name: y
    equation:
      lhs: Derivative(y, t)
      rhs: vy
      latex: false
    initial_value: 0.6253313812821787
  vx:
    name: vx
    equation:
      lhs: Derivative(vx, t)
      rhs: -omega**2*x - alpha*vx - sum_gamma_terms_x
      latex: false
    initial_value: 0.0
  vy:
    name: vy
    equation:
      lhs: Derivative(vy, t)
      rhs: -omega**2*y - alpha*vy - sum_gamma_terms_y
      latex: false
    initial_value: 0.0
derived_variables:
  sum_gamma_terms_x:
    name: sum_gamma_terms_x
    description: Sum over magnetic x-forces for N magnets on unit circle (default N=3 expanded).
    equation:
      lhs: sum_gamma_terms_x
      rhs: "gamma*((x - 1)/((x - 1)**2 + y**2 + d**2)**(3/2) + (x - cos(2*pi/3))/((x - cos(2*pi/3))**2 + (y - sin(2*pi/3))**2 + d**2)**(3/2) + (x - cos(4*pi/3))/((x - cos(4*pi/3))**2 + (y - sin(4*pi/3))**2 + d**2)**(3/2))"
      latex: false
  sum_gamma_terms_y:
    name: sum_gamma_terms_y
    description: Sum over magnetic y-forces for N magnets on unit circle (default N=3 expanded).
    equation:
      lhs: sum_gamma_terms_y
      rhs: "gamma*(y/((x - 1)**2 + y**2 + d**2)**(3/2) + (y - sin(2*pi/3))/((x - cos(2*pi/3))**2 + (y - sin(2*pi/3))**2 + d**2)**(3/2) + (y - sin(4*pi/3))/((x - cos(4*pi/3))**2 + (y - sin(4*pi/3))**2 + d**2)**(3/2))"
      latex: false
description: |-
  Damped planar magnetic pendulum over N fixed magnets forming a symmetric multistable
  potential. Exhibits fractal basin boundaries and sensitive dependence in final magnet
  attraction region selection.
number_of_modes: 1
